# ğŸ“˜ Code Quality Plugin

íŒ€ ê³µí†µ **ì½”ë“œ í¬ë§·íŒ… ê·œì¹™**ì„ ì œê³µí•˜ëŠ” Gradle í”ŒëŸ¬ê·¸ì¸ ì…ë‹ˆë‹¤.  
í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©í•˜ë©´ ê° í”„ë¡œì íŠ¸ì—ì„œ Spotless ê·œì¹™ì„ ì§ì ‘ ì‘ì„±í•  í•„ìš” ì—†ì´, **í•œ ì¤„ ì„ ì–¸ìœ¼ë¡œ íŒ€ í‘œì¤€ ê·œì¹™**ì„ ìë™ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”§ ì†Œë¹„ì í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

### 1. `settings.gradle.kts`

ê³µìš© í”ŒëŸ¬ê·¸ì¸ì´ ì˜¬ë¼ê°„ **GitHub Packages** ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

```kotlin
pluginManagement {
    repositories {
        gradlePluginPortal()
        mavenCentral()
        maven {
            url = uri("https://maven.pkg.github.com/yoonseonlee-colosseum/colosseum-libs")
            credentials {
                username = {username}
                password = {token ì •ë³´}
            }
        }
    }
}
```

### 2. `build.gradle.kts`

í”ŒëŸ¬ê·¸ì¸ì„ ì„ ì–¸í•©ë‹ˆë‹¤.

```kotlin
plugins {
    id("com.colosseum.code-quality") version {ë²„ì „ì •ë³´}
    id("com.diffplug.spotless") version "6.25.0" apply false
}
```
ğŸ‘‰ ì—¬ê¸°ì„œ apply false ë¡œ Spotless ë²„ì „ì„ ëª…ì‹œí•´ì•¼,   
ê³µê¸‰ì í”ŒëŸ¬ê·¸ì¸ì´ ë‚´ë¶€ì ìœ¼ë¡œ apply("com.diffplug.spotless") ë¥¼ ì‹¤í–‰í•  ë•Œ ì •ìƒ ë™ì‘í•©ë‹ˆë‹¤.

### 3. ëª…ë ¹ì–´ ì‹¤í–‰

#### ì½”ë“œ í¬ë§· ê²€ì‚¬

```bash
./gradlew spotlessCheck
```

#### ì½”ë“œ í¬ë§· ìë™ ì ìš©

```bash
./gradlew spotlessApply
```

---

## ğŸ“ ë‚´ë¶€ì ìœ¼ë¡œ í•˜ëŠ” ì¼

`com.colosseum.code-quality` í”ŒëŸ¬ê·¸ì¸ì€ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

- `com.diffplug.spotless` í”ŒëŸ¬ê·¸ì¸ì„ ìë™ìœ¼ë¡œ ì ìš©
- Kotlin, Kotlin Gradle Script, Java, Markdown, Gitignore ë“± ì—¬ëŸ¬ íŒŒì¼ í¬ë§·ì— ëŒ€í•œ **íŒ€ ê³µí†µ ê·œì¹™** ì„¤ì •

### ì ìš© ê·œì¹™ ì˜ˆì‹œ

- **Kotlin**
    - `ktlint` ê¸°ë°˜ ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬
    - `indent_size = 4`
    - `max_line_length = 120`
    - íŠ¸ë ˆì¼ë§ ì½¤ë§ˆ í—ˆìš©
    - ì™€ì¼ë“œì¹´ë“œ import ê¸ˆì§€
    - `build/**`, `bin/**`, `testFixtures/**` ë“± íŠ¹ì • ê²½ë¡œ ì œì™¸
    - ë ê³µë°± ì œê±° ë° íŒŒì¼ ëì— ê°œí–‰ ì¶”ê°€

- **Kotlin Gradle Script**
    - `*.gradle.kts` íŒŒì¼ì— `ktlint` ì ìš©

- **Java**
    - Palantir Java Format(`2.61.0`) ì ìš©
    - ë¶ˆí•„ìš”í•œ import ì œê±°
    - import ì •ë ¬ ìˆœì„œ: `java`, `javax`, `jakarta`, `org`, `com`, (ê¸°íƒ€)
    - `build/**`, `.gradle/**` íŒŒì¼ ì œì™¸

- **ê¸°íƒ€ íŒŒì¼ (misc)**
    - ëŒ€ìƒ: `*.gradle`, `*.md`, `.gitignore`
    - ê³µë°± ì œê±°, space ë“¤ì—¬ì“°ê¸°, íŒŒì¼ ë ê°œí–‰ ì¶”ê°€

---

## âœ… ì¥ì 

1. **ê·œì¹™ ë‹¨ì¼í™”**
    - Spotless DSLì„ ê° í”„ë¡œì íŠ¸ì— ì¤‘ë³µ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
    - ê³µí†µ ê·œì¹™ì„ í•œ ë²ˆë§Œ ì •ì˜í•˜ê³ , ëª¨ë“  ì†Œë¹„ì í”„ë¡œì íŠ¸ì—ì„œ ê³µìœ í•©ë‹ˆë‹¤.

2. **ìœ ì§€ë³´ìˆ˜ ìš©ì´**
    - ê·œì¹™ì´ ë°”ë€Œë©´ í”ŒëŸ¬ê·¸ì¸ ë²„ì „ë§Œ ì˜¬ë¦¬ë©´ ë©ë‹ˆë‹¤.
    - ì½”ë“œ ìŠ¤íƒ€ì¼ ê·œì¹™ì˜ ì¼ê´€ì„±ì„ ì†ì‰½ê²Œ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **íŒ€ ë¬¸í™” ê°•ì œ**
    - CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ `spotlessCheck` ë¥¼ ì‹¤í–‰í•˜ë©´,  
      ê·œì¹™ ìœ„ë°˜ ì‹œ ë¹Œë“œê°€ ì‹¤íŒ¨í•˜ë„ë¡ ê°•ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. **í™•ì¥ì„±**
    - í˜„ì¬ëŠ” Spotlessë§Œ í¬í•¨í•˜ì§€ë§Œ, ì¶”í›„ `ktlint`, `detekt`, `checkstyle` ë“±ì˜ ì¶”ê°€ í’ˆì§ˆ ë„êµ¬ë¥¼ ë¬¶ì–´  
      â€œíŒ€ í‘œì¤€ ì½”ë“œ í’ˆì§ˆ í”ŒëŸ¬ê·¸ì¸â€ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

